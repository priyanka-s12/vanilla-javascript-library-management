<!DOCTYPE html>
<html>
  <head>
    <title>Bookish - Library Management Application</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  </head>

  <body>
    <header>
      <nav class="navbar navbar-expand-lg">
        <div class="container">
          <a class="navbar-brand fw-medium" href="index.html">Bookish</a>
          <button
            class="navbar-toggler"
            type="button"
            data-bs-toggle="collapse"
            data-bs-target="#navbarNav"
            aria-controls="navbarNav"
            aria-expanded="false"
            aria-label="Toggle navigation"
          >
            <span class="navbar-toggler-icon"></span>
          </button>

          <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav">
              <li class="nav-item">
                <a class="nav-link" href="index.html">Home</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="books.html">Books</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="facts.html">Facts</a>
              </li>
            </ul>
          </div>
        </div>
      </nav>
    </header>

    <main>
      <section class="container py-3">
        <h2 class="text-center">Book Details</h2>

        <div id="bookDetailsResult" class="p-3"></div>
      </section>
    </main>
    <script>
      let libraryData = [
        {
          id: 1,
          title: 'The Great Gatsby',
          author: 'F. Scott Fitzgerald',
          ISBN: '978-0-7432-7356-5',
          genre: 'Classic',
          publicationYear: 1925,
          mediaType: 'Book',
          availabilityStatus: 'In Stock',
          location: 'Fiction Section, Shelf A',
          condition: 'Good',
        },
        {
          id: 2,
          title: "The Hitchhiker's Guide to the Galaxy",
          author: 'Douglas Adams',
          ISBN: '978-0-345-39180-3',
          genre: 'Science Fiction',
          publicationYear: 1979,
          mediaType: 'Book',
          availabilityStatus: 'Checked Out',
          location: 'Science Fiction Section, Shelf B',
          condition: 'New',
        },
        {
          id: 3,
          title: 'The Beatles Anthology',
          author: 'The Beatles',
          ISBN: '978-0811826846',
          genre: 'Music',
          publicationYear: 2000,
          mediaType: 'DVD',
          availabilityStatus: 'On Hold',
          location: 'Music Section, Shelf C',
          condition: 'Fair',
        },
        {
          id: 4,
          title: 'National Geographic',
          author: 'Various',
          ISBN: 'NG-MAG-2023-001',
          genre: 'Magazine',
          publicationYear: 2023,
          mediaType: 'Magazine',
          availabilityStatus: 'In Stock',
          location: 'Periodicals Section, Shelf D',
          condition: 'Good',
        },
        {
          id: 5,
          title: 'Database Management Essentials',
          author: 'Abraham Silberschatz',
          ISBN: '978-0077079611',
          genre: 'Technology',
          publicationYear: 2019,
          mediaType: 'Digital Book',
          availabilityStatus: 'In Stock',
          location: 'Technology Section, Shelf E',
          condition: 'New',
        },
      ];

      //1st get the id from url
      function getId(id) {
        let url = new URL(window.location.href);
        return url.searchParams.get(id);
      }
      let bookId = getId('id');
      console.log(bookId);

      //2nd get that data from db
      let bookObject;
      for (let i = 0; i < libraryData.length; i++) {
        if (libraryData[i].id == bookId) {
          bookObject = libraryData[i];
        }
      }
      console.log(bookObject);
      const bookDetailsResult = document.querySelector('#bookDetailsResult');
      //3rd display on the page
      function generateData() {
        if (bookObject) {
          const card = document.createElement('div');
          card.className = 'card p-3';

          const h3 = document.createElement('h3');
          h3.textContent = `${bookObject.title}`;

          const ul = document.createElement('ul');
          ul.className = 'list-group list-group-flush';

          const author = document.createElement('li');
          author.className = 'list-group-item';
          author.innerHTML = `Author: ${bookObject.author}`;

          const isbn = document.createElement('li');
          isbn.className = 'list-group-item';
          isbn.innerHTML = `ISBN: ${bookObject.ISBN}`;

          const genre = document.createElement('li');
          genre.className = 'list-group-item';
          genre.innerHTML = `Genre: ${bookObject.genre}`;

          const publicationYear = document.createElement('li');
          publicationYear.className = 'list-group-item';
          publicationYear.innerHTML = `Publication Year: ${bookObject.publicationYear}`;

          const mediaType = document.createElement('li');
          mediaType.className = 'list-group-item';
          mediaType.innerHTML = `Media Type: ${bookObject.mediaType}`;

          const availabilityStatus = document.createElement('li');
          availabilityStatus.className = 'list-group-item';
          availabilityStatus.innerHTML = `Availability Status: ${bookObject.availabilityStatus}`;

          const condition = document.createElement('li');
          condition.className = 'list-group-item';
          condition.innerHTML = `Condition: ${bookObject.condition}`;

          card.appendChild(h3);

          ul.appendChild(author);
          ul.appendChild(isbn);
          ul.appendChild(genre);
          ul.appendChild(publicationYear);
          ul.appendChild(mediaType);
          ul.appendChild(availabilityStatus);
          ul.appendChild(condition);
          card.appendChild(ul);
          bookDetailsResult.appendChild(card);
        }
      }

      //       <ul class="list-group list-group-flush">
      //   <li class="list-group-item">An item</li>
      //   <li class="list-group-item">A second item</li>
      //   <li class="list-group-item">A third item</li>
      //   <li class="list-group-item">A fourth item</li>
      //   <li class="list-group-item">And a fifth one</li>
      // </ul>
      generateData();
    </script>
  </body>
</html>
